<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.31.2">
    <meta name="project" content="klepsidra v0.1.0">


    <title>Klepsidra.TimeTracking.Timer â€” klepsidra v0.1.0</title>
    <link rel="stylesheet" href="dist/html-elixir-JKHCEBPC.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-A7S2WMC7.js"></script>
    <script src="dist/sidebar_items-BB220509.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-JRPQ5PR6.js"></script>


  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<div class="background-layer"></div>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="api-reference.html" class="sidebar-projectName" translate="no">
klepsidra
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">
      <div class="top-search">
        <div class="search-settings">
          <form class="search-bar" action="search.html">
            <label class="search-label">
              <span class="sr-only">Search documentation of klepsidra</span>
              <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
            </label>
            <button type="submit" class="search-button" aria-label="Submit Search">
              <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
            </button>
            <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
              <i class="ri-close-line ri-lg" title="Cancel search"></i>
            </button>
          </form>
          <div class="autocomplete">
          </div>
          <button class="icon-settings display-settings">
            <i class="ri-settings-3-line"></i>
            <span class="sr-only">Settings</span>
          </button>
        </div>

      </div>

<h1>

  <span translate="no">Klepsidra.TimeTracking.Timer</span> 
  <small class="app-vsn" translate="no">(klepsidra v0.1.0)</small>

</h1>


  <section id="moduledoc">
<p>Defines the <code class="inline">timers</code> schema and functions needed to clock in, out and parse datetimes.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:t/0" translate="no">t()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate_timer_duration/3" translate="no">calculate_timer_duration(start_timestamp, end_timestamp, unit \\ :minute)</a>

      </div>

        <div class="summary-synopsis"><p>Calculates the time elapsed between start and end timestamps.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#clock_out/2" translate="no">clock_out(start_timestamp, unit \\ :minute)</a>

      </div>

        <div class="summary-synopsis"><p>Clock out of an active timer, given a starting timestamp string.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_naivedatetime_to_html/1" translate="no">convert_naivedatetime_to_html(datetime_stamp)</a>

      </div>

        <div class="summary-synopsis"><p>Converts <code class="inline">NativeDateTime</code> structure to HTML-ready string, with the seconds component
elided.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_naivedatetime_to_html!/1" translate="no">convert_naivedatetime_to_html!(datetime_stamp)</a>

      </div>

        <div class="summary-synopsis"><p>Converts <code class="inline">NativeDateTime</code> structure to HTML-ready string, with the seconds component
elided.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#duration_to_string/2" translate="no">duration_to_string(duration, time_unit)</a>

      </div>

        <div class="summary-synopsis"><p>Formats a number into a string according to a unit definition for a locale.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_current_timestamp/0" translate="no">get_current_timestamp()</a>

      </div>

        <div class="summary-synopsis"><p>Get the current local date and time, without a timezone component,
for the timezone the the computer the program is running on is set to.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse_html_datetime/1" translate="no">parse_html_datetime(datetime_string)</a>

      </div>

        <div class="summary-synopsis"><p>Parses HTML <code class="inline">datetime-local</code> strings into <code class="inline">NativeDateTime</code> structure.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse_html_datetime!/1" translate="no">parse_html_datetime!(datetime_string)</a>

      </div>

        <div class="summary-synopsis"><p>Parses HTML <code class="inline">datetime-local</code> strings into <code class="inline">NativeDateTime</code> structure.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:t/0">

  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">t()</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> t() :: %Klepsidra.TimeTracking.Timer{
  __meta__: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  description: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  duration: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(),
  duration_time_unit: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  end_stamp: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  id: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  inserted_at: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  reported_duration: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(),
  reported_duration_time_unit: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  start_stamp: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  tag: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  tag_id: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  updated_at: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()
}</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="calculate_timer_duration/3">

    <span id="calculate_timer_duration/2"></span>

  <div class="detail-header">
    <a href="#calculate_timer_duration/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">calculate_timer_duration(start_timestamp, end_timestamp, unit \\ :minute)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> calculate_timer_duration(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>

          <pre translate="no"><span class="attribute">@spec</span> calculate_timer_duration(<a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>(), <a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>

      </div>

<p>Calculates the time elapsed between start and end timestamps.</p><p>The time unit can be passed in as the optional <code class="inline">unit</code> argument. If it is omitted,
minutes are used as the default time unit.</p><p>In calculating the time duration, the difference between the two timestamps is
always incremented by one. This ensures that if the timer were simply started
and immediately stopped, it would still register the use of one unit of time.</p><h2 id="calculate_timer_duration/3-examples" class="section-heading">
  <a href="#calculate_timer_duration/3-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-1">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:45&quot;</span><span class="p" data-group-id="3530668890-1">)</span><span class="w">
</span><span class="mi">72</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-2">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:45&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:minute</span><span class="p" data-group-id="3530668890-2">)</span><span class="w">
</span><span class="mi">72</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-3">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:45&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p" data-group-id="3530668890-3">)</span><span class="w">
</span><span class="mi">4261</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-4">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:45&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="3530668890-4">)</span><span class="w">
</span><span class="mi">2</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-5">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="3530668890-5">)</span><span class="w">
</span><span class="mi">2</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">calculate_timer_duration</span><span class="p" data-group-id="3530668890-6">(</span><span class="s">&quot;2024-02-28 12:34&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-02-28 13:33&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="3530668890-6">)</span><span class="w">
</span><span class="mi">1</span></code></pre>
  </section>
</section>
<section class="detail" id="clock_out/2">

    <span id="clock_out/1"></span>

  <div class="detail-header">
    <a href="#clock_out/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">clock_out(start_timestamp, unit \\ :minute)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> clock_out(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) :: %{
  end_timestamp: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  timer_duration: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()
}</pre>

      </div>

<p>Clock out of an active timer, given a starting timestamp string.</p><h2 id="clock_out/2-return-values" class="section-heading">
  <a href="#clock_out/2-return-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Return values</span>
</h2>
<p>Returns a map containing the ending timestamp and duration in the requested unit of time.</p><h2 id="clock_out/2-examples" class="section-heading">
  <a href="#clock_out/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">get_current_timestamp</span><span class="p" data-group-id="1300531076-1">(</span><span class="p" data-group-id="1300531076-1">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">NaiveDateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="1300531076-2">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="ss">:minute</span><span class="p" data-group-id="1300531076-2">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html!</span><span class="p" data-group-id="1300531076-3">(</span><span class="p" data-group-id="1300531076-3">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">clock_out</span><span class="p" data-group-id="1300531076-4">(</span><span class="p" data-group-id="1300531076-4">)</span><span class="w">
</span><span class="p" data-group-id="1300531076-5">%{</span><span class="ss">end_timestamp</span><span class="p">:</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">get_current_timestamp</span><span class="p" data-group-id="1300531076-6">(</span><span class="p" data-group-id="1300531076-6">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html!</span><span class="p" data-group-id="1300531076-7">(</span><span class="p" data-group-id="1300531076-7">)</span><span class="p">,</span><span class="w"> </span><span class="ss">timer_duration</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p" data-group-id="1300531076-5">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">get_current_timestamp</span><span class="p" data-group-id="1300531076-8">(</span><span class="p" data-group-id="1300531076-8">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">NaiveDateTime</span><span class="o">.</span><span class="n">add</span><span class="p" data-group-id="1300531076-9">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="ss">:minute</span><span class="p" data-group-id="1300531076-9">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html!</span><span class="p" data-group-id="1300531076-10">(</span><span class="p" data-group-id="1300531076-10">)</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">clock_out</span><span class="p" data-group-id="1300531076-11">(</span><span class="ss">:hour</span><span class="p" data-group-id="1300531076-11">)</span><span class="w">
</span><span class="p" data-group-id="1300531076-12">%{</span><span class="ss">end_timestamp</span><span class="p">:</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">get_current_timestamp</span><span class="p" data-group-id="1300531076-13">(</span><span class="p" data-group-id="1300531076-13">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html!</span><span class="p" data-group-id="1300531076-14">(</span><span class="p" data-group-id="1300531076-14">)</span><span class="p">,</span><span class="w"> </span><span class="ss">timer_duration</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1300531076-12">}</span></code></pre>
  </section>
</section>
<section class="detail" id="convert_naivedatetime_to_html/1">

  <div class="detail-header">
    <a href="#convert_naivedatetime_to_html/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">convert_naivedatetime_to_html(datetime_stamp)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> convert_naivedatetime_to_html(<a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()) ::
  {:ok, <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()} | {:error, <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()}</pre>

      </div>

<p>Converts <code class="inline">NativeDateTime</code> structure to HTML-ready string, with the seconds component
elided.</p><p>Returns a tuple with <code class="inline">:ok</code> or <code class="inline">:error</code> as the first element, with a string
compatible with HTML's input <code class="inline">datetime-local</code> element, in the format
&quot;YYYY-MM-DDThh:mm&quot;. This can directly be fed into an <code class="inline">input</code> element's <code class="inline">value</code>
slot.</p><h2 id="convert_naivedatetime_to_html/1-examples" class="section-heading">
  <a href="#convert_naivedatetime_to_html/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html</span><span class="p" data-group-id="4728987462-1">(</span><span class="ld">~N[2024-04-07 22:12:32]</span><span class="p" data-group-id="4728987462-1">)</span><span class="w">
</span><span class="p" data-group-id="4728987462-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2024-04-07T22:12&quot;</span><span class="p" data-group-id="4728987462-2">}</span></code></pre>
  </section>
</section>
<section class="detail" id="convert_naivedatetime_to_html!/1">

  <div class="detail-header">
    <a href="#convert_naivedatetime_to_html!/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">convert_naivedatetime_to_html!(datetime_stamp)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> convert_naivedatetime_to_html!(<a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()) :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()</pre>

      </div>

<p>Converts <code class="inline">NativeDateTime</code> structure to HTML-ready string, with the seconds component
elided.</p><p>Returns a string compatible with HTML's input <code class="inline">datetime-local</code> element, in the
format &quot;YYYY-MM-DDThh:mm&quot;. This can directly be fed into an <code class="inline">input</code> element's
<code class="inline">value</code> slot.</p><h2 id="convert_naivedatetime_to_html!/1-examples" class="section-heading">
  <a href="#convert_naivedatetime_to_html!/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">convert_naivedatetime_to_html!</span><span class="p" data-group-id="2978031185-1">(</span><span class="ld">~N[2024-04-07 22:12:32]</span><span class="p" data-group-id="2978031185-1">)</span><span class="w">
</span><span class="s">&quot;2024-04-07T22:12&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="duration_to_string/2">

  <div class="detail-header">
    <a href="#duration_to_string/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">duration_to_string(duration, time_unit)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> duration_to_string(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) :: []</pre>

      </div>

<p>Formats a number into a string according to a unit definition for a locale.</p><p>Takes an integer duration, and an atom time unit, including any custom time
units defined and compiled as part of this project.</p><p>Returns a tuple {:ok, ...} containing a locale-specific and quantity-sensitive
pluralisation of the defined time unit as a string.</p><h2 id="duration_to_string/2-examples" class="section-heading">
  <a href="#duration_to_string/2-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">duration_to_string</span><span class="p" data-group-id="0939436358-1">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">:minute</span><span class="p" data-group-id="0939436358-1">)</span><span class="w">
</span><span class="p" data-group-id="0939436358-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3 minutes&quot;</span><span class="p" data-group-id="0939436358-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">duration_to_string</span><span class="p" data-group-id="0939436358-3">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="ss">:six_minute_increment</span><span class="p" data-group-id="0939436358-3">)</span><span class="w">
</span><span class="p" data-group-id="0939436358-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;7 six minute increments&quot;</span><span class="p" data-group-id="0939436358-4">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">duration_to_string</span><span class="p" data-group-id="0939436358-5">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">:hour</span><span class="p" data-group-id="0939436358-5">)</span><span class="w">
</span><span class="p" data-group-id="0939436358-6">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1 hour&quot;</span><span class="p" data-group-id="0939436358-6">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">duration_to_string</span><span class="p" data-group-id="0939436358-7">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">:second</span><span class="p" data-group-id="0939436358-7">)</span><span class="w">
</span><span class="p" data-group-id="0939436358-8">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;0 seconds&quot;</span><span class="p" data-group-id="0939436358-8">}</span></code></pre>
  </section>
</section>
<section class="detail" id="get_current_timestamp/0">

  <div class="detail-header">
    <a href="#get_current_timestamp/0" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_current_timestamp()</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get_current_timestamp() :: <a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()</pre>

      </div>

<p>Get the current local date and time, without a timezone component,
for the timezone the the computer the program is running on is set to.</p><p>This function will display what the date and time are right now, for the
time zone configuration the computer is localised to.</p><p>Relying on this function to return the time is fine for many uses, including for
timing tasks, but is unsuitable for use where real precision and time awareness may be
critical.</p><p>Returns a <a href="https://hexdocs.pm/elixir/NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> struct.</p><h2 id="get_current_timestamp/0-examples" class="section-heading">
  <a href="#get_current_timestamp/0-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="n">naivedatetime_stamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">get_current_timestamp</span><span class="p" data-group-id="2317591421-1">(</span><span class="p" data-group-id="2317591421-1">)</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="n">naivedatetime_stamp</span><span class="o">.</span><span class="n">year</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2024</span><span class="w">
</span><span class="no">true</span></code></pre>
  </section>
</section>
<section class="detail" id="parse_html_datetime/1">

  <div class="detail-header">
    <a href="#parse_html_datetime/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">parse_html_datetime(datetime_string)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> parse_html_datetime(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) ::
  {:ok, <a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()} | {:error, <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()}</pre>

      </div>

<p>Parses HTML <code class="inline">datetime-local</code> strings into <code class="inline">NativeDateTime</code> structure.</p><p>Datetime strings coming from HTML, from <code class="inline">datetime-local</code> type fields,
are not conformant to the extended date and time of day  ISO 8601:2019 standard format.
Specifically, they are encoded as &quot;YYYY-MM-DDThh:mm&quot;, and are generally (but not always)
passed without a seconds component. <code class="inline">NativeDateTime</code> cannot parse this, returning an
error.</p><p>Using the Timex library's <code class="inline">parse/2</code> function, parse datetime strings into an ISO
conforming <code class="inline">NativeDateTime</code> structure, returning a result tuple:</p><p><code class="inline">{:ok, ~N[...]}</code> on success, or {:error, reason} upon failure.</p><p>It is possible to receive a datetime with date and time components separated by either
a letter &quot;t&quot; or a single space (&quot; &quot;), binary pattern matching will determine which is
received in the <code class="inline">datetime_string</code> argument.</p><h2 id="parse_html_datetime/1-examples" class="section-heading">
  <a href="#parse_html_datetime/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">parse_html_datetime</span><span class="p" data-group-id="9838125437-1">(</span><span class="s">&quot;1970-01-01T11:15&quot;</span><span class="p" data-group-id="9838125437-1">)</span><span class="w">
</span><span class="p" data-group-id="9838125437-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~N[1970-01-01 11:15:00]</span><span class="p" data-group-id="9838125437-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">parse_html_datetime</span><span class="p" data-group-id="9838125437-3">(</span><span class="s">&quot;1970-01-01 11:15&quot;</span><span class="p" data-group-id="9838125437-3">)</span><span class="w">
</span><span class="p" data-group-id="9838125437-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~N[1970-01-01 11:15:00]</span><span class="p" data-group-id="9838125437-4">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">parse_html_datetime</span><span class="p" data-group-id="9838125437-5">(</span><span class="s">&quot;1970-02-29T11:15&quot;</span><span class="p" data-group-id="9838125437-5">)</span><span class="w">
</span><span class="p" data-group-id="9838125437-6">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="ss">:invalid_date</span><span class="p" data-group-id="9838125437-6">}</span></code></pre>
  </section>
</section>
<section class="detail" id="parse_html_datetime!/1">

  <div class="detail-header">
    <a href="#parse_html_datetime!/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">parse_html_datetime!(datetime_string)</h1>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> parse_html_datetime!(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="https://hexdocs.pm/elixir/NaiveDateTime.html#t:t/0">NaiveDateTime.t</a>()</pre>

      </div>

<p>Parses HTML <code class="inline">datetime-local</code> strings into <code class="inline">NativeDateTime</code> structure.</p><p>Works just like <code class="inline">parse_html_datetime1</code>, but instead of returning an {:ok, _} or
{:error, reason} tuple, returns the <a href="https://hexdocs.pm/elixir/NaiveDateTime.html"><code class="inline">NaiveDateTime</code></a> struct on success, otherwise
raises an error.</p><h2 id="parse_html_datetime!/1-examples" class="section-heading">
  <a href="#parse_html_datetime!/1-examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">parse_html_datetime</span><span class="p" data-group-id="2952712172-1">(</span><span class="s">&quot;1970-01-01T11:15&quot;</span><span class="p" data-group-id="2952712172-1">)</span><span class="w">
</span><span class="p" data-group-id="2952712172-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~N[1970-01-01 11:15:00]</span><span class="p" data-group-id="2952712172-2">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Klepsidra.TimeTracking.Timer</span><span class="o">.</span><span class="n">parse_html_datetime</span><span class="p" data-group-id="2952712172-3">(</span><span class="s">&quot;1970-01-01 11:15&quot;</span><span class="p" data-group-id="2952712172-3">)</span><span class="w">
</span><span class="p" data-group-id="2952712172-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ld">~N[1970-01-01 11:15:00]</span><span class="p" data-group-id="2952712172-4">}</span></code></pre>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

              <a href="klepsidra.epub" title="ePub version">
                Download ePub version
              </a>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.31.2) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>

      </footer>
    </div>
  </div>
</main>
</div>


  </body>
</html>
